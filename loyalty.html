<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Premium Club - Gittertier Pro</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lz-string@1.4.4/libs/lz-string.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
    /* ==================== APPLE LIQUID GLAS DESIGN ==================== */
    :root {
        /* Light Mode - Apple Design System */
        --color-primary: #007AFF;
        --color-primary-dark: #0056CC;
        --color-accent: #5856D6;
        --color-accent-light: #AF52DE;
        --color-success: #34C759;
        --color-warning: #FF9500;
        --color-error: #FF3B30;
        --color-dark: #000000;
        --color-light: #F2F2F7;
        --color-white: #FFFFFF;
        --color-gray: #8E8E93;
        --color-gray-light: #C7C7CC;
        --color-gray-dark: #48484A;
        --color-bg: #F2F2F7;
        --color-text: #000000;
        --color-text-muted: #8E8E93;
        --color-card-bg: #FFFFFF;
        --color-card-bg-glass: rgba(255, 255, 255, 0.7);
        --color-sidebar-bg: rgba(255, 255, 255, 0.8);
        --color-modal-bg: rgba(255, 255, 255, 0.95);
        --color-overlay: rgba(0, 0, 0, 0.5);
        --color-hover-gray: rgba(142, 142, 147, 0.08);
        --color-hover-gray-medium: rgba(142, 142, 147, 0.12);
        
        /* Premium Club Specific Colors */
        --color-premium: #FFD700;
        --color-premium-dark: #FFC107;
        --color-premium-gradient: linear-gradient(135deg, #FFD700 0%, #FF9500 100%);
        --color-silver: #C0C0C0;
        --color-gold: #FFD700;
        --color-platinum: #E5E4E2;
        --color-diamond: #B9F2FF;
        --color-premium-accent: linear-gradient(135deg, #FFD700 0%, #FF9F0A 100%);
        
        /* Apple Liquid Glas Effects */
        --glass-blur: blur(20px);
        --glass-border: 1px solid rgba(255, 255, 255, 0.2);
        --glass-border-dark: 1px solid rgba(0, 0, 0, 0.1);
        --glass-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        --glass-shadow-lg: 0 8px 40px rgba(0, 0, 0, 0.12);
        --glass-shadow-xl: 0 12px 60px rgba(0, 0, 0, 0.16);
        
        --radius: 16px;
        --radius-sm: 8px;
        --radius-lg: 24px;
        --radius-xl: 28px;
        
        --transition: all 0.3s cubic-bezier(0.2, 0, 0, 1);
        --transition-slow: all 0.5s cubic-bezier(0.2, 0, 0, 1);
        
        /* Gradients */
        --gradient-primary: linear-gradient(135deg, #007AFF 0%, #5856D6 100%);
        --gradient-accent: linear-gradient(135deg, #5856D6 0%, #AF52DE 100%);
        --gradient-success: linear-gradient(135deg, #34C759 0%, #30D158 100%);
        --gradient-warning: linear-gradient(135deg, #FF9500 0%, #FF9F0A 100%);
        --gradient-error: linear-gradient(135deg, #FF3B30 0%, #FF453A 100%);
        --gradient-glass: linear-gradient(135deg, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.4));
        --gradient-glass-dark: linear-gradient(135deg, rgba(28, 28, 30, 0.8), rgba(28, 28, 30, 0.4));
        --gradient-gray-hover: linear-gradient(135deg, rgba(142, 142, 147, 0.08), rgba(142, 142, 147, 0.12));
        --gradient-premium: linear-gradient(135deg, #FFD700 0%, #FF9F0A 100%);
        --gradient-silver: linear-gradient(135deg, #C0C0C0 0%, #A0A0A0 100%);
        --gradient-gold: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
        --gradient-platinum: linear-gradient(135deg, #E5E4E2 0%, #C0C0C0 100%);
        --gradient-diamond: linear-gradient(135deg, #B9F2FF 0%, #66A6FF 100%);
        
        /* Font Sizes */
        --text-xs: 0.75rem;
        --text-sm: 0.875rem;
        --text-base: 1rem;
        --text-lg: 1.125rem;
        --text-xl: 1.25rem;
        --text-2xl: 1.5rem;
        --text-3xl: 1.875rem;
        --text-4xl: 2.25rem;
        
        /* Spacing */
        --spacing-xs: 4px;
        --spacing-sm: 8px;
        --spacing-md: 16px;
        --spacing-lg: 24px;
        --spacing-xl: 32px;
        --spacing-xxl: 48px;
        
        /* Layout */
        --header-height: 64px;
        --sidebar-width: 280px;
        --sidebar-width-collapsed: 80px;
        --touch-target: 44px;
        
        /* Depth */
        --depth-1: 0 1px 3px rgba(0, 0, 0, 0.07);
        --depth-2: 0 4px 12px rgba(0, 0, 0, 0.1);
        --depth-3: 0 10px 30px rgba(0, 0, 0, 0.15);
        --depth-4: 0 20px 50px rgba(0, 0, 0, 0.2);
        
        /* Apple System Font Stack */
        --font-system: -apple-system, BlinkMacSystemFont, "Segoe UI", Inter, Roboto, "Helvetica Neue", Arial, sans-serif;
    }

    /* Auto Dark Mode based on system preference */
    @media (prefers-color-scheme: dark) {
        :root {
            --color-bg: #000000;
            --color-text: #FFFFFF;
            --color-text-muted: #8E8E93;
            --color-card-bg: #1C1C1E;
            --color-card-bg-glass: rgba(28, 28, 30, 0.7);
            --color-sidebar-bg: rgba(28, 28, 30, 0.8);
            --color-modal-bg: rgba(28, 28, 30, 0.95);
            --color-overlay: rgba(0, 0, 0, 0.7);
            --color-light: #2C2C2E;
            --color-gray: #8E8E93;
            --color-gray-light: #48484A;
            --color-gray-dark: #C7C7CC;
            --color-white: #1C1C1E;
            --color-hover-gray: rgba(174, 174, 178, 0.08);
            --color-hover-gray-medium: rgba(174, 174, 178, 0.12);
            
            --glass-border: 1px solid rgba(255, 255, 255, 0.1);
            --glass-border-dark: 1px solid rgba(255, 255, 255, 0.1);
            --glass-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --glass-shadow-lg: 0 8px 40px rgba(0, 0, 0, 0.4);
            --glass-shadow-xl: 0 12px 60px rgba(0, 0, 0, 0.5);
            
            --gradient-gray-hover: linear-gradient(135deg, rgba(174, 174, 178, 0.08), rgba(174, 174, 178, 0.12));
            --gradient-glass: linear-gradient(135deg, rgba(28, 28, 30, 0.8), rgba(28, 28, 30, 0.4));
            
            --depth-1: 0 1px 3px rgba(0, 0, 0, 0.3);
            --depth-2: 0 4px 12px rgba(0, 0, 0, 0.4);
            --depth-3: 0 10px 30px rgba(0, 0, 0, 0.5);
            --depth-4: 0 20px 50px rgba(0, 0, 0, 0.6);
            
            --gradient-premium: linear-gradient(135deg, #FFC107 0%, #FF8F00 100%);
        }
    }

    /* Manual Dark Mode Class */
    .dark-mode {
        --color-bg: #000000;
        --color-text: #FFFFFF;
        --color-text-muted: #8E8E93;
        --color-card-bg: #1C1C1E;
        --color-card-bg-glass: rgba(28, 28, 30, 0.7);
        --color-sidebar-bg: rgba(28, 28, 30, 0.8);
        --color-modal-bg: rgba(28, 28, 30, 0.95);
        --color-overlay: rgba(0, 0, 0, 0.7);
        --color-light: #2C2C2E;
        --color-gray: #8E8E93;
        --color-gray-light: #48484A;
        --color-gray-dark: #C7C7CC;
        --color-white: #1C1C1E;
        --color-hover-gray: rgba(174, 174, 178, 0.08);
        --color-hover-gray-medium: rgba(174, 174, 178, 0.12);
        
        --glass-border: 1px solid rgba(255, 255, 255, 0.1);
        --glass-border-dark: 1px solid rgba(255, 255, 255, 0.1);
        --glass-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        --glass-shadow-lg: 0 8px 40px rgba(0, 0, 0, 0.4);
        --glass-shadow-xl: 0 12px 60px rgba(0, 0, 0, 0.5);
        
        --gradient-gray-hover: linear-gradient(135deg, rgba(174, 174, 178, 0.08), rgba(174, 174, 178, 0.12));
        --gradient-glass: linear-gradient(135deg, rgba(28, 28, 30, 0.8), rgba(28, 28, 30, 0.4));
        
        --depth-1: 0 1px 3px rgba(0, 0, 0, 0.3);
        --depth-2: 0 4px 12px rgba(0, 0, 0, 0.4);
        --depth-3: 0 10px 30px rgba(0, 0, 0, 0.5);
        --depth-4: 0 20px 50px rgba(0, 0, 0, 0.6);
        
        --gradient-premium: linear-gradient(135deg, #FFC107 0%, #FF8F00 100%);
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
    }

    body {
        font-family: var(--font-system);
        background: var(--color-bg);
        color: var(--color-text);
        line-height: 1.6;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overflow-x: hidden;
        transition: var(--transition-slow);
    }

    /* ==================== HEADER - APPLE STYLE ==================== */
    .admin-header {
        height: var(--header-height);
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 var(--spacing-lg);
        position: sticky;
        top: 0;
        z-index: 100;
        background: var(--color-card-bg-glass);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        border-bottom: var(--glass-border);
        min-height: var(--touch-target);
    }

    @media (max-width: 480px) {
        .admin-header {
            padding: 0 var(--spacing-sm);
        }
    }

    .logo {
        display: flex;
        align-items: center;
        gap: var(--spacing-md);
        font-weight: 700;
        font-size: var(--text-xl);
        color: var(--color-primary);
        min-height: var(--touch-target);
    }

    .logo i {
        font-size: var(--text-xl);
        color: var(--color-primary);
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .header-controls {
        display: flex;
        gap: var(--spacing-sm);
        align-items: center;
    }

    .time-display {
        background: var(--gradient-glass);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        padding: var(--spacing-sm) var(--spacing-md);
        border-radius: var(--radius);
        font-size: var(--text-sm);
        color: var(--color-text);
        min-height: var(--touch-target);
        display: flex;
        align-items: center;
        border: var(--glass-border);
        box-shadow: var(--glass-shadow);
    }

    .logout-btn {
        background: var(--gradient-glass);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        color: var(--color-text);
        border: var(--glass-border);
        padding: var(--spacing-sm) var(--spacing-md);
        border-radius: var(--radius);
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
        min-height: var(--touch-target);
        min-width: var(--touch-target);
        box-shadow: var(--glass-shadow);
    }

    .logout-btn:hover, .logout-btn:active, .logout-btn:focus {
        background: var(--gradient-gray-hover);
        transform: translateY(-1px);
        box-shadow: var(--glass-shadow-lg);
    }

    /* ==================== SIDEBAR - GLASS EFFECT ==================== */
    .admin-sidebar {
        width: var(--sidebar-width);
        background: var(--color-sidebar-bg);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        height: calc(100vh - var(--header-height));
        position: fixed;
        top: var(--header-height);
        left: 0;
        overflow-y: auto;
        transition: transform 0.4s cubic-bezier(0.2, 0, 0, 1);
        z-index: 90;
        padding: var(--spacing-lg) 0;
        border-right: var(--glass-border);
        box-shadow: var(--glass-shadow-lg);
    }

    .nav-container {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-xs);
        padding: 0 var(--spacing-md);
    }

    .nav-link {
        padding: var(--spacing-md);
        border-radius: var(--radius);
        text-decoration: none;
        color: var(--color-text);
        font-weight: 500;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: var(--spacing-md);
        min-height: var(--touch-target);
        background: transparent;
        border: 1px solid transparent;
    }

    .nav-link:hover, .nav-link:active, .nav-link:focus {
        background: var(--color-hover-gray);
        backdrop-filter: var(--glass-blur);
        border-color: var(--color-primary);
        transform: translateX(2px);
    }

    .nav-link.active {
        background: var(--gradient-premium);
        color: #000000;
        box-shadow: var(--glass-shadow);
    }

    .nav-link i {
        width: 24px;
        text-align: center;
        font-size: var(--text-lg);
    }

    .nav-link.active i {
        color: #000000;
    }

    .new-feature {
        background: var(--gradient-accent);
        color: white;
        font-size: var(--text-xs);
        padding: 2px 8px;
        border-radius: 10px;
        margin-left: auto;
        font-weight: 600;
    }

    .premium-badge {
        background: var(--gradient-premium);
        color: #000000;
        font-size: var(--text-xs);
        padding: 2px 8px;
        border-radius: 10px;
        margin-left: auto;
        font-weight: 700;
    }

    /* Sidebar overlay for mobile */
    .sidebar-overlay {
        position: fixed;
        top: var(--header-height);
        left: 0;
        right: 0;
        bottom: 0;
        background-color: var(--color-overlay);
        z-index: 35;
        display: none;
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
    }

    /* ==================== MAIN CONTENT ==================== */
    .admin-content {
        flex: 1;
        padding: var(--spacing-lg);
        margin-left: var(--sidebar-width);
        transition: margin-left 0.4s cubic-bezier(0.2, 0, 0, 1);
        overflow-x: hidden;
        background: var(--color-bg);
    }

    @media (max-width: 768px) {
        .admin-content {
            padding: var(--spacing-md);
        }
    }

    /* ==================== PAGE HEADER ==================== */
    .page-header {
        margin-bottom: var(--spacing-xl);
    }

    .page-title {
        font-size: var(--text-2xl);
        font-weight: 700;
        margin-bottom: var(--spacing-sm);
        display: flex;
        align-items: center;
        gap: var(--spacing-md);
        line-height: 1.2;
    }

    .page-subtitle {
        color: var(--color-text-muted);
        max-width: 600px;
        line-height: 1.4;
    }

    /* ==================== HERO SECTION ==================== */
    .premium-hero {
        background: var(--gradient-premium);
        color: #000000;
        border-radius: var(--radius-lg);
        padding: var(--spacing-xl);
        margin-bottom: var(--spacing-lg);
        position: relative;
        overflow: hidden;
        box-shadow: var(--glass-shadow-lg);
        border: none;
    }

    .premium-hero::before {
        content: '';
        position: absolute;
        top: -50%;
        right: -50%;
        width: 100%;
        height: 200%;
        background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.3) 50%, transparent 70%);
        animation: shimmer 3s infinite linear;
    }

    .hero-content {
        position: relative;
        z-index: 1;
    }

    .hero-title {
        font-size: var(--text-3xl);
        font-weight: 900;
        margin-bottom: var(--spacing-sm);
        line-height: 1.2;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .hero-subtitle {
        opacity: 0.9;
        margin-bottom: var(--spacing-lg);
        line-height: 1.4;
        font-size: var(--text-lg);
    }

    .hero-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--spacing-lg);
        margin-top: var(--spacing-xl);
    }

    .hero-stat {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        color: #000000;
        border: 1px solid rgba(255, 255, 255, 0.3);
        padding: var(--spacing-lg);
        border-radius: var(--radius);
        text-align: center;
        transition: var(--transition);
    }

    .hero-stat:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
    }

    .hero-stat-value {
        font-size: var(--text-2xl);
        font-weight: 900;
        margin-bottom: var(--spacing-xs);
        line-height: 1;
    }

    .hero-stat-label {
        font-size: var(--text-sm);
        font-weight: 600;
        opacity: 0.9;
    }

    /* ==================== TIER SYSTEM ==================== */
    .tier-system {
        margin-bottom: var(--spacing-xl);
    }

    .tiers-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: var(--spacing-lg);
        margin-top: var(--spacing-lg);
    }

    .tier-card {
        background: var(--color-card-bg-glass);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        border-radius: var(--radius-lg);
        border: var(--glass-border);
        padding: var(--spacing-xl);
        box-shadow: var(--glass-shadow);
        transition: var(--transition);
        position: relative;
        overflow: hidden;
        text-align: center;
    }

    .tier-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--glass-shadow-lg);
    }

    .tier-card.active {
        background: var(--gradient-premium);
        color: #000000;
        border-color: transparent;
    }

    .tier-card.active .tier-icon {
        background: rgba(0, 0, 0, 0.1);
        color: #000000;
    }

    .tier-card.silver {
        border-color: var(--color-silver);
    }

    .tier-card.gold {
        border-color: var(--color-gold);
    }

    .tier-card.platinum {
        border-color: var(--color-platinum);
    }

    .tier-card.diamond {
        border-color: var(--color-diamond);
    }

    .tier-icon {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: var(--text-2xl);
        margin: 0 auto var(--spacing-md);
        background: var(--gradient-glass);
        color: var(--color-text);
        border: var(--glass-border);
    }

    .tier-title {
        font-size: var(--text-xl);
        font-weight: 700;
        margin-bottom: var(--spacing-sm);
    }

    .tier-points {
        font-size: var(--text-sm);
        color: var(--color-text-muted);
        margin-bottom: var(--spacing-md);
    }

    .tier-card.active .tier-points {
        color: rgba(0, 0, 0, 0.8);
    }

    .tier-benefits {
        list-style: none;
        margin-bottom: var(--spacing-lg);
        text-align: left;
    }

    .tier-benefits li {
        padding: var(--spacing-xs) 0;
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
        font-size: var(--text-sm);
    }

    .tier-benefits li i {
        color: var(--color-success);
        width: 20px;
    }

    .tier-action {
        width: 100%;
        padding: var(--spacing-md);
        border: none;
        border-radius: var(--radius);
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition);
        background: var(--gradient-glass);
        color: var(--color-text);
        border: var(--glass-border);
    }

    .tier-card.active .tier-action {
        background: rgba(0, 0, 0, 0.2);
        color: #000000;
        border: 1px solid rgba(0, 0, 0, 0.3);
    }

    .tier-action:hover {
        background: var(--color-hover-gray);
        transform: translateY(-1px);
    }

    /* ==================== MEMBERSHIP STATUS ==================== */
    .membership-status {
        background: var(--color-card-bg-glass);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        border-radius: var(--radius-lg);
        border: var(--glass-border);
        padding: var(--spacing-xl);
        margin-bottom: var(--spacing-xl);
        box-shadow: var(--glass-shadow);
        position: relative;
        overflow: hidden;
    }

    .membership-status.premium {
        background: linear-gradient(135deg, var(--color-card-bg-glass) 0%, rgba(255, 215, 0, 0.1) 100%);
        border-color: var(--color-premium);
    }

    .status-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: var(--spacing-xl);
        flex-wrap: wrap;
        gap: var(--spacing-lg);
    }

    .points-display {
        display: flex;
        align-items: center;
        gap: var(--spacing-xl);
    }

    .points-icon {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: var(--text-3xl);
        background: var(--gradient-premium);
        color: #000000;
        box-shadow: var(--glass-shadow);
        animation: pulse 2s infinite;
    }

    .points-info h3 {
        font-size: var(--text-xl);
        font-weight: 700;
        margin-bottom: var(--spacing-sm);
    }

    .points-amount {
        font-size: var(--text-4xl);
        font-weight: 900;
        color: var(--color-premium);
        line-height: 1;
        margin-bottom: var(--spacing-xs);
    }

    .points-label {
        color: var(--color-text-muted);
        font-size: var(--text-sm);
    }

    .tier-badge {
        display: inline-flex;
        align-items: center;
        gap: var(--spacing-sm);
        padding: var(--spacing-sm) var(--spacing-lg);
        border-radius: 50px;
        font-weight: 700;
        background: var(--gradient-premium);
        color: #000000;
        box-shadow: var(--glass-shadow);
        font-size: var(--text-lg);
    }

    .tier-badge i {
        font-size: var(--text-xl);
    }

    .progress-container {
        margin-top: var(--spacing-lg);
    }

    .progress-label {
        display: flex;
        justify-content: space-between;
        margin-bottom: var(--spacing-sm);
        font-weight: 600;
        color: var(--color-text);
    }

    .progress-bar {
        height: 12px;
        background: var(--color-light);
        border-radius: 6px;
        overflow: hidden;
        margin-bottom: var(--spacing-md);
    }

    .progress-fill {
        height: 100%;
        border-radius: 6px;
        background: var(--gradient-premium);
        transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
    }

    .progress-fill::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        animation: shimmer 2s infinite;
    }

    /* ==================== FEATURES GRID ==================== */
    .unlockable-features {
        margin-bottom: var(--spacing-xl);
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: var(--spacing-lg);
        margin-top: var(--spacing-lg);
    }

    .feature-card {
        background: var(--color-card-bg-glass);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        border-radius: var(--radius-lg);
        border: var(--glass-border);
        padding: var(--spacing-xl);
        box-shadow: var(--glass-shadow);
        transition: var(--transition);
        position: relative;
        overflow: hidden;
    }

    .feature-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--glass-shadow-lg);
    }

    .feature-card.unlocked {
        background: linear-gradient(135deg, var(--color-card-bg-glass) 0%, rgba(52, 199, 89, 0.1) 100%);
        border-color: var(--color-success);
    }

    .feature-card.premium {
        border: 2px solid transparent;
        background: linear-gradient(var(--color-card-bg-glass), var(--color-card-bg-glass)) padding-box,
                    var(--gradient-premium) border-box;
    }

    .feature-header {
        display: flex;
        justify-content: space-between;
        align-items: start;
        margin-bottom: var(--spacing-lg);
    }

    .feature-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: var(--text-xl);
        background: var(--gradient-glass);
        color: var(--color-text);
        border: var(--glass-border);
    }

    .feature-card.unlocked .feature-icon {
        background: var(--gradient-success);
        color: white;
    }

    .feature-cost {
        background: var(--gradient-premium);
        color: #000000;
        padding: var(--spacing-sm) var(--spacing-md);
        border-radius: 50px;
        font-weight: 700;
        font-size: var(--text-sm);
    }

    .feature-title {
        font-size: var(--text-lg);
        font-weight: 700;
        margin-bottom: var(--spacing-sm);
        color: var(--color-text);
    }

    .feature-description {
        color: var(--color-text-muted);
        margin-bottom: var(--spacing-lg);
        font-size: var(--text-sm);
        line-height: 1.5;
    }

    .feature-status {
        display: inline-block;
        padding: var(--spacing-sm) var(--spacing-md);
        border-radius: 50px;
        font-size: var(--text-xs);
        font-weight: 600;
        margin-bottom: var(--spacing-lg);
    }

    .status-unlocked {
        background: rgba(52, 199, 89, 0.15);
        color: var(--color-success);
    }

    .status-locked {
        background: rgba(142, 142, 147, 0.15);
        color: var(--color-gray);
    }

    .unlock-btn {
        width: 100%;
        padding: var(--spacing-lg);
        background: var(--gradient-premium);
        color: #000000;
        border: none;
        border-radius: var(--radius);
        font-weight: 700;
        cursor: pointer;
        transition: var(--transition);
        font-size: var(--text-base);
        position: relative;
        overflow: hidden;
    }

    .unlock-btn:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(255, 215, 0, 0.3);
    }

    .unlock-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        background: var(--color-gray);
    }

    .unlock-btn.unlocked {
        background: var(--gradient-success);
        color: white;
    }

    /* ==================== ACTIVE BENEFITS ==================== */
    .active-benefits {
        background: var(--color-card-bg-glass);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        border-radius: var(--radius-lg);
        padding: var(--spacing-xl);
        margin-bottom: var(--spacing-xl);
        box-shadow: var(--glass-shadow);
    }

    .benefits-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: var(--spacing-lg);
        margin-top: var(--spacing-lg);
    }

    .benefit-item {
        display: flex;
        align-items: center;
        gap: var(--spacing-lg);
        padding: var(--spacing-lg);
        background: var(--gradient-glass);
        border-radius: var(--radius);
        transition: var(--transition);
        position: relative;
        overflow: hidden;
        border: var(--glass-border);
    }

    .benefit-item:hover {
        transform: translateX(8px);
        background: var(--color-hover-gray);
    }

    .benefit-icon {
        width: 60px;
        height: 60px;
        background: var(--gradient-success);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: var(--text-xl);
        flex-shrink: 0;
        box-shadow: var(--glass-shadow);
    }

    .benefit-content h4 {
        font-weight: 700;
        margin-bottom: var(--spacing-xs);
        color: var(--color-text);
    }

    .benefit-content p {
        color: var(--color-text-muted);
        font-size: var(--text-sm);
        line-height: 1.4;
    }

    /* ==================== ADVERTISEMENT MODAL ==================== */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: var(--color-overlay);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2000;
        display: none;
        padding: var(--spacing-md);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
    }

    .modal-overlay.active {
        display: flex;
        animation: fadeIn 0.3s ease;
    }

    .modal {
        background: var(--color-modal-bg);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        border-radius: var(--radius-xl);
        padding: var(--spacing-xl);
        width: 100%;
        max-width: 600px;
        box-shadow: var(--glass-shadow-xl);
        border: var(--glass-border);
        animation: scaleIn 0.3s cubic-bezier(0.2, 0, 0, 1);
        max-height: 90vh;
        overflow-y: auto;
    }

    .advertisement-modal {
        background: var(--gradient-premium);
        color: #000000;
        max-width: 700px;
    }

    .advertisement-modal .modal-header {
        margin-bottom: var(--spacing-lg);
    }

    .advertisement-modal .modal-title {
        color: #000000;
    }

    .ad-icon {
        font-size: 4rem;
        color: #000000;
        margin-bottom: var(--spacing-lg);
        text-align: center;
        animation: pulse 2s infinite, float 3s ease-in-out infinite;
    }

    .ad-title {
        font-size: var(--text-3xl);
        font-weight: 900;
        margin-bottom: var(--spacing-md);
        text-align: center;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .ad-subtitle {
        font-size: var(--text-lg);
        color: rgba(0, 0, 0, 0.8);
        text-align: center;
        margin-bottom: var(--spacing-xl);
        line-height: 1.4;
    }

    .ad-benefits {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-md);
        margin: var(--spacing-xl) 0;
    }

    @media (max-width: 768px) {
        .ad-benefits {
            grid-template-columns: 1fr;
        }
    }

    .ad-benefit {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        border-radius: var(--radius);
        padding: var(--spacing-lg);
        display: flex;
        align-items: center;
        gap: var(--spacing-md);
        color: #000000;
        transition: var(--transition);
        border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .ad-benefit:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
    }

    .ad-benefit i {
        font-size: var(--text-xl);
        color: #000000;
    }

    .demo-animation {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: var(--spacing-xl);
        padding: var(--spacing-xl);
        margin: var(--spacing-xl) 0;
        background: rgba(255, 255, 255, 0.1);
        border-radius: var(--radius);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .demo-icon {
        font-size: var(--text-2xl);
        color: #000000;
        animation: bounce 2s infinite;
    }

    .demo-icon:nth-child(2) {
        animation-delay: 0.2s;
    }

    .demo-icon:nth-child(3) {
        animation-delay: 0.4s;
    }

    .join-button {
        width: 100%;
        padding: var(--spacing-xl);
        background: rgba(0, 0, 0, 0.9);
        color: white;
        border: none;
        border-radius: var(--radius);
        font-size: var(--text-xl);
        font-weight: 700;
        cursor: pointer;
        transition: var(--transition);
        margin: var(--spacing-lg) 0;
        position: relative;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .join-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
    }

    .join-button:active {
        transform: translateY(0);
    }

    .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: var(--spacing-lg);
    }

    .modal-title {
        font-size: var(--text-xl);
        font-weight: 600;
        line-height: 1.2;
    }

    .close-modal {
        background: var(--gradient-glass);
        border: var(--glass-border);
        font-size: var(--text-xl);
        color: var(--color-text);
        cursor: pointer;
        width: var(--touch-target);
        height: var(--touch-target);
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: var(--transition);
    }

    .close-modal:hover, .close-modal:active, .close-modal:focus {
        background: var(--color-hover-gray);
        transform: rotate(90deg);
    }

    .modal-footer {
        text-align: center;
        margin-top: var(--spacing-lg);
        color: rgba(0, 0, 0, 0.7);
        font-size: var(--text-sm);
    }

    /* ==================== CONFETTI EFFECT ==================== */
    .confetti-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1000;
        display: none;
    }

    .confetti {
        position: absolute;
        width: 10px;
        height: 10px;
        opacity: 0.8;
        animation: confetti 2s ease-out forwards;
    }

    /* ==================== TUTORIAL SYSTEM ==================== */
    .tutorial-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.85);
        z-index: 3000;
        display: none;
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
    }

    .tutorial-overlay.active {
        display: flex;
        align-items: center;
        justify-content: center;
        animation: fadeIn 0.3s ease;
    }

    .tutorial-container {
        background: var(--color-modal-bg);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        border-radius: var(--radius-xl);
        padding: var(--spacing-xl);
        width: 90%;
        max-width: 500px;
        box-shadow: var(--glass-shadow-xl);
        border: var(--glass-border);
        animation: scaleIn 0.3s cubic-bezier(0.2, 0, 0, 1);
    }

    .tutorial-slide {
        display: none;
    }

    .tutorial-slide.active {
        display: block;
    }

    .tutorial-icon {
        font-size: 3rem;
        color: var(--color-primary);
        text-align: center;
        margin-bottom: var(--spacing-lg);
    }

    .tutorial-title {
        font-size: var(--text-xl);
        font-weight: 700;
        margin-bottom: var(--spacing-md);
        text-align: center;
    }

    .tutorial-content {
        color: var(--color-text-muted);
        margin-bottom: var(--spacing-xl);
        text-align: center;
        line-height: 1.5;
    }

    .tutorial-indicators {
        display: flex;
        justify-content: center;
        gap: var(--spacing-sm);
        margin: var(--spacing-lg) 0;
    }

    .tutorial-indicator {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: var(--color-gray-light);
        cursor: pointer;
        transition: var(--transition);
    }

    .tutorial-indicator.active {
        background: var(--color-primary);
        transform: scale(1.2);
    }

    .tutorial-navigation {
        display: flex;
        justify-content: space-between;
        gap: var(--spacing-md);
        margin-top: var(--spacing-xl);
    }

    .tutorial-btn {
        padding: var(--spacing-md) var(--spacing-lg);
        border: none;
        border-radius: var(--radius);
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition);
        flex: 1;
        text-align: center;
    }

    .tutorial-btn.prev {
        background: var(--gradient-glass);
        color: var(--color-text);
        border: var(--glass-border);
    }

    .tutorial-btn.next {
        background: var(--gradient-primary);
        color: white;
    }

    .tutorial-btn:hover {
        transform: translateY(-1px);
        box-shadow: var(--glass-shadow);
    }

    /* ==================== FOOTER ==================== */
    footer {
        background: var(--color-card-bg);
        color: var(--color-text);
        padding: var(--spacing-xl) 0;
        text-align: center;
        margin-top: var(--spacing-xxl);
        border-top: var(--glass-border);
    }

    .footer-content {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 var(--spacing-lg);
    }

    .footer-logo {
        font-size: var(--text-2xl);
        font-weight: 900;
        margin-bottom: var(--spacing-md);
        color: var(--color-primary);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--spacing-sm);
    }

    .footer-links {
        display: flex;
        justify-content: center;
        gap: var(--spacing-xl);
        margin: var(--spacing-xl) 0;
        flex-wrap: wrap;
    }

    .footer-links a {
        color: var(--color-gray);
        text-decoration: none;
        transition: var(--transition);
        font-weight: 500;
        padding: var(--spacing-sm);
        border-radius: var(--radius);
    }

    .footer-links a:hover {
        color: var(--color-primary);
        background: var(--color-hover-gray);
    }

    .copyright {
        color: var(--color-gray);
        margin-top: var(--spacing-lg);
        font-size: var(--text-sm);
    }

    /* ==================== ANIMATIONS ==================== */
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes scaleIn {
        from { transform: scale(0.95); opacity: 0; }
        to { transform: scale(1); opacity: 1; }
    }

    @keyframes slideUp {
        from { transform: translateY(20px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    @keyframes pulse {
        0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.7); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); box-shadow: 0 0 0 10px rgba(255, 215, 0, 0); }
    }

    @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }

    @keyframes rotate {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    @keyframes shimmer {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(100%); }
    }

    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-20px); }
    }

    @keyframes confetti {
        0% {
            transform: translateY(0) rotate(0deg);
            opacity: 1;
        }
        100% {
            transform: translateY(100vh) rotate(720deg);
            opacity: 0;
        }
    }

    @keyframes spin {
        to { transform: rotate(360deg); }
    }

    /* ==================== RESPONSIVE DESIGN ==================== */
    @media (max-width: 1024px) {
        .admin-sidebar {
            transform: translateX(-100%);
            width: 280px;
            max-width: 85vw;
        }
        
        .admin-sidebar.active {
            transform: translateX(0);
        }
        
        .admin-content {
            margin-left: 0;
        }
        
        .sidebar-overlay.active {
            display: block;
        }

        .hero-stats {
            grid-template-columns: repeat(2, 1fr);
        }

        .tiers-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .features-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .benefits-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (max-width: 768px) {
        .admin-header {
            padding: 0 var(--spacing-sm);
        }
        
        .admin-content {
            padding: var(--spacing-md);
        }
        
        .status-header {
            flex-direction: column;
            align-items: flex-start;
            gap: var(--spacing-md);
        }
        
        .points-display {
            flex-direction: column;
            align-items: flex-start;
            gap: var(--spacing-md);
        }
        
        .points-icon {
            width: 80px;
            height: 80px;
            font-size: var(--text-2xl);
        }
        
        .hero-stats {
            grid-template-columns: 1fr;
            gap: var(--spacing-md);
        }
        
        .tiers-grid {
            grid-template-columns: 1fr;
        }
        
        .features-grid {
            grid-template-columns: 1fr;
        }
        
        .benefits-grid {
            grid-template-columns: 1fr;
        }
        
        .ad-benefits {
            grid-template-columns: 1fr;
        }
        
        .footer-links {
            flex-direction: column;
            gap: var(--spacing-md);
        }
        
        .time-display {
            display: none;
        }
        
        .logout-btn span {
            display: none;
        }
        
        .logout-btn {
            width: var(--touch-target);
            padding: var(--spacing-sm);
            justify-content: center;
        }
        
        .hero-title {
            font-size: var(--text-2xl);
        }
        
        .hero-subtitle {
            font-size: var(--text-base);
        }
        
        .premium-hero {
            padding: var(--spacing-lg);
        }
        
        .membership-status {
            padding: var(--spacing-lg);
        }
        
        .points-amount {
            font-size: var(--text-3xl);
        }
    }

    @media (max-width: 480px) {
        .tutorial-container {
            padding: var(--spacing-lg);
        }
        
        .tutorial-navigation {
            flex-direction: column;
        }
        
        .ad-benefit {
            padding: var(--spacing-md);
        }
        
        .feature-card {
            padding: var(--spacing-lg);
        }
        
        .benefit-item {
            padding: var(--spacing-md);
            flex-direction: column;
            text-align: center;
            gap: var(--spacing-md);
        }
        
        .tier-card {
            padding: var(--spacing-lg);
        }
        
        .modal {
            padding: var(--spacing-lg);
        }
        
        .ad-title {
            font-size: var(--text-2xl);
        }
        
        .ad-subtitle {
            font-size: var(--text-base);
        }
    }

    /* Landscape orientation */
    @media (max-height: 600px) and (orientation: landscape) {
        .admin-sidebar {
            height: calc(100vh - var(--header-height));
            overflow-y: auto;
        }
        
        .premium-hero {
            padding: var(--spacing-lg);
        }
        
        .modal {
            max-height: 85vh;
        }
    }

    /* High-resolution displays */
    @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
        .feature-card,
        .tier-card,
        .membership-status {
            border-width: 0.5px;
        }
    }

    /* Reduced motion preference */
    @media (prefers-reduced-motion: reduce) {
        * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
        
        .points-icon {
            animation: none;
        }
        
        .demo-icon {
            animation: none;
        }
    }

    /* iOS specific styles */
    @supports (-webkit-touch-callout: none) {
        .admin-sidebar {
            padding-bottom: env(safe-area-inset-bottom);
        }
        
        footer {
            padding-bottom: calc(var(--spacing-xl) + env(safe-area-inset-bottom));
        }
    }

    /* Enhanced mobile accessibility */
    @media (hover: none) and (pointer: coarse) {
        .nav-link,
        .unlock-btn,
        .tier-action,
        .join-button,
        .tutorial-btn,
        .logout-btn,
        .close-modal {
            min-height: 48px;
            padding: var(--spacing-md);
        }
        
        .feature-card,
        .tier-card,
        .membership-status {
            padding: var(--spacing-md);
        }
    }

    /* Improved touch feedback */
    .touch-feedback:active {
        transform: scale(0.98);
        transition: transform 0.1s ease;
    }

    /* Better focus styles for accessibility */
    *:focus-visible {
        outline: 2px solid var(--color-primary);
        outline-offset: 2px;
    }

    /* Loading states */
    .loading {
        opacity: 0.7;
        pointer-events: none;
        position: relative;
    }

    .loading::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 24px;
        height: 24px;
        border: 2px solid var(--glass-border);
        border-top-color: var(--color-primary);
        border-radius: 50%;
        animation: spin 0.8s linear infinite;
        margin-top: -12px;
        margin-left: -12px;
    }

    /* Improved scrollbars */
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        background: var(--color-light);
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
        background: var(--color-gray-light);
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: var(--color-gray);
    }

    /* Empty states */
    .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: var(--spacing-xl);
        text-align: center;
        color: var(--color-text-muted);
        grid-column: 1 / -1;
    }

    .empty-state i {
        font-size: var(--text-3xl);
        margin-bottom: var(--spacing-md);
        opacity: 0.5;
    }

    .empty-state p {
        font-size: var(--text-sm);
        line-height: 1.4;
    }
    </style>
</head>
<body>
    <div class="admin-header">
        <div class="logo">
            <i class="fas fa-crown"></i>
            <span>Premium Club</span>
        </div>
        <div class="header-controls">
            <div class="time-display" id="timeDisplay"></div>
            <button class="logout-btn" id="logoutBtn" aria-label="Zurück zum Dashboard">
                <i class="fas fa-arrow-left"></i>
                <span>Zurück</span>
            </button>
        </div>
    </div>

    <div class="admin-container">
        <!-- <aside class="admin-sidebar" id="sidebar">
            <div class="nav-container">
                <a href="index" class="nav-link">
                    <i class="fas fa-barcode"></i>
                    <span>Scanner</span>
                </a>
                
                <a href="customer" class="nav-link">
                    <i class="fas fa-cash-register"></i>
                    <span>Bezahlung</span>
                </a>
                
                <a href="loyalty" class="nav-link active">
                    <i class="fas fa-crown"></i>
                    <span>Premium Club</span>
                    <span class="premium-badge">PREMIUM</span>
                </a>
                
                <a href="user" class="nav-link">
                    <i class="fas fa-user"></i>
                    <span>Einstellungen</span>
                </a>
                
                <a href="admin" class="nav-link">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                
                <a href="products" class="nav-link">
                    <i class="fas fa-box"></i>
                    <span>Produkte</span>
                </a>
                
                <a href="analytics" class="nav-link">
                    <i class="fas fa-chart-line"></i>
                    <span>Analysen</span>
                </a>
                
                <a href="settings" class="nav-link">
                    <i class="fas fa-cog"></i>
                    <span>System</span>
                </a>
            </div>
        </aside>-->
        
        <div class="sidebar-overlay" id="sidebarOverlay"></div>

        <main class="admin-content" id="main-content">
            <div class="page-header">
                <h1 class="page-title">
                    <i class="fas fa-crown"></i>
                    Premium Club
                </h1>
                <p class="page-subtitle" id="page-subtitle">
                    Entdecken Sie exklusive Vorteile, verdienen Sie Belohnungen und erleben Sie das beste Einkaufserlebnis.
                </p>
            </div>

            <!-- Hero Section -->
            <div class="premium-hero">
                <div class="hero-content">
                    <h2 class="hero-title" id="hero-title">Willkommen im Premium Club!</h2>
                    <p class="hero-subtitle" id="hero-subtitle">
                        Sammeln Sie Punkte, schalten Sie exklusive Features frei und genießen Sie besondere Vorteile bei jedem Einkauf.
                    </p>
                    
                    <div class="hero-stats">
                        <div class="hero-stat">
                            <div class="hero-stat-value" id="current-balance">0</div>
                            <div class="hero-stat-label">Aktuelle Punkte</div>
                        </div>
                        <div class="hero-stat">
                            <div class="hero-stat-value" id="lifetime-points">0</div>
                            <div class="hero-stat-label">Lebenszeit Punkte</div>
                        </div>
                        <div class="hero-stat">
                            <div class="hero-stat-value" id="unlocked-features">0</div>
                            <div class="hero-stat-label">Freigeschaltet</div>
                        </div>
                        <div class="hero-stat">
                            <div class="hero-stat-value" id="tier-level">Bronze</div>
                            <div class="hero-stat-label">Aktueller Status</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Membership Status -->
            <div class="membership-status" id="membership-status">
                <div class="status-header">
                    <div class="points-display">
                        <div class="points-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div class="points-info">
                            <h3>Ihre Premium Punkte</h3>
                            <div class="points-amount" id="main-points">0</div>
                            <div class="points-label">Gesammelte Punkte</div>
                        </div>
                    </div>
                    <div class="tier-badge">
                        <i class="fas fa-medal"></i>
                        <span id="current-tier">Bronze</span>
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-label">
                        <span>Fortschritt zum nächsten Level</span>
                        <span id="progress-text">0/500</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                </div>
            </div>

            <!-- Tier System -->
            <section class="tier-system">
                <h2 class="section-title">Ihr Status Level</h2>
                <p class="page-subtitle">Steigen Sie auf und genießen Sie exklusive Vorteile auf jeder Stufe</p>
                
                <div class="tiers-grid" id="tiers-grid">
                    <!-- Tiers will be populated by JavaScript -->
                </div>
            </section>

            <!-- Unlockable Features -->
            <section class="unlockable-features">
                <h2 class="section-title">Exklusive Features freischalten</h2>
                <p class="page-subtitle">Nutzen Sie Ihre Punkte, um spezielle Features und Vorteile freizuschalten</p>
                
                <div class="features-grid" id="features-grid">
                    <!-- Features will be populated by JavaScript -->
                </div>
            </section>

            <!-- Active Benefits -->
            <section class="active-benefits">
                <h2 class="section-title">Aktive Vorteile</h2>
                <p class="page-subtitle">Diese Vorteile sind aktuell in Ihrem Konto aktiv</p>
                
                <div class="benefits-grid" id="active-benefits">
                    <!-- Active benefits will be populated by JavaScript -->
                </div>
            </section>
        </main>
    </div>

    <!-- Advertisement Modal -->
    <div class="modal-overlay" id="advertisement-modal" role="dialog" aria-labelledby="ad-modal-title" aria-hidden="true">
        <div class="modal advertisement-modal">
            <div class="modal-header">
                <h2 class="modal-title" id="ad-modal-title">Premium Club</h2>
                <button class="close-modal touch-feedback" id="close-ad-modal" aria-label="Modal schließen">&times;</button>
            </div>
            <div class="modal-body">
                <div class="ad-icon">
                    <i class="fas fa-crown"></i>
                </div>
                <h2 class="ad-title">WERDEN SIE PREMIUM!</h2>
                <p class="ad-subtitle">
                    Entdecken Sie exklusive Vorteile, verdienen Sie Belohnungen und erleben Sie das beste Einkaufserlebnis mit dem Gittertier Premium Club.
                </p>
                
                <div class="demo-animation">
                    <div class="demo-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <div class="demo-icon">
                        <i class="fas fa-gift"></i>
                    </div>
                    <div class="demo-icon">
                        <i class="fas fa-star"></i>
                    </div>
                </div>
                
                <div class="ad-benefits">
                    <div class="ad-benefit">
                        <i class="fas fa-rocket"></i>
                        <span>Doppelte Punkte</span>
                    </div>
                    <div class="ad-benefit">
                        <i class="fas fa-shield-alt"></i>
                        <span>Exklusive Rabatte</span>
                    </div>
                    <div class="ad-benefit">
                        <i class="fas fa-bolt"></i>
                        <span>Schnellbezahlung</span>
                    </div>
                    <div class="ad-benefit">
                        <i class="fas fa-magic"></i>
                        <span>Premium Designs</span>
                    </div>
                </div>
                
                <button class="join-button touch-feedback" id="join-premium-button">
                    <i class="fas fa-crown"></i>
                    JETZT BEITRETEN - 100 PUNKTE GRATIS!
                </button>
                
                <div class="modal-footer">
                    Kostenlos beitreten - jederzeit kündbar
                </div>
            </div>
        </div>
    </div>

    <!-- Tutorial Modal -->
    <div class="tutorial-overlay" id="tutorial-overlay">
        <div class="tutorial-container">
            <div class="tutorial-slide active" id="tutorial-slide-1">
                <div class="tutorial-icon">
                    <i class="fas fa-crown"></i>
                </div>
                <h3 class="tutorial-title">Willkommen im Premium Club!</h3>
                <div class="tutorial-content">
                    Entdecken Sie, wie Sie Punkte sammeln, exklusive Features freischalten und von besonderen Vorteilen profitieren können.
                </div>
            </div>
            
            <div class="tutorial-slide" id="tutorial-slide-2">
                <div class="tutorial-icon">
                    <i class="fas fa-coins"></i>
                </div>
                <h3 class="tutorial-title">Punkte sammeln</h3>
                <div class="tutorial-content">
                    Bei jedem Einkauf erhalten Sie Punkte. Je mehr Sie einkaufen, desto mehr Punkte sammeln Sie und steigen in höhere Statuslevel auf.
                </div>
            </div>
            
            <div class="tutorial-slide" id="tutorial-slide-3">
                <div class="tutorial-icon">
                    <i class="fas fa-unlock"></i>
                </div>
                <h3 class="tutorial-title">Features freischalten</h3>
                <div class="tutorial-content">
                    Nutzen Sie Ihre Punkte, um exklusive Features wie spezielle Scanner-Animationen, Punkt-Multiplikatoren und mehr freizuschalten.
                </div>
            </div>
            
            <div class="tutorial-slide" id="tutorial-slide-4">
                <div class="tutorial-icon">
                    <i class="fas fa-medal"></i>
                </div>
                <h3 class="tutorial-title">Statuslevel</h3>
                <div class="tutorial-content">
                    Steigen Sie von Bronze über Silber und Gold bis zu Platin und Diamant auf. Jedes Level bietet zusätzliche Vorteile und höhere Punktzuwächse.
                </div>
            </div>
            
            <div class="tutorial-indicators">
                <div class="tutorial-indicator active" data-slide="1"></div>
                <div class="tutorial-indicator" data-slide="2"></div>
                <div class="tutorial-indicator" data-slide="3"></div>
                <div class="tutorial-indicator" data-slide="4"></div>
            </div>
            
            <div class="tutorial-navigation">
                <button class="tutorial-btn prev touch-feedback" id="tutorial-prev">Zurück</button>
                <button class="tutorial-btn next touch-feedback" id="tutorial-next">Weiter</button>
                <button class="tutorial-btn next touch-feedback" id="tutorial-finish" style="display: none;">Starten</button>
            </div>
        </div>
    </div>

    <!-- Confetti Container -->
    <div class="confetti-container" id="confetti-container"></div>

    <!-- Notification Container -->
    <div class="notification" id="notification" style="display: none;"></div>

    <script>
        // ==================== PREMIUM CLUB MANAGER ====================
        class PremiumClubManager {
            constructor() {
                this.storageKey = 'gittertier_loyalty_data';
                this.featuresKey = 'gittertier_unlocked_features';
                this.paymentPrefsKey = 'gittertier_payment_preferences';
                this.tierHistoryKey = 'gittertier_tier_history';
                this.tutorialKey = 'gittertier_premium_tutorial';
                this.settingsKey = 'appSettings';
                this.currentTutorialSlide = 1;
                this.totalTutorialSlides = 4;
                this.init();
            }

            init() {
                this.data = this.loadData();
                this.features = this.loadFeatures();
                this.tierHistory = this.loadTierHistory();
                this.settings = this.loadSettings();
                
                // Apply dark mode from settings
                this.applyDarkMode();
                
                // Show tutorial if first time
                setTimeout(() => {
                    this.checkTutorial();
                }, 1000);
                
                // Check if should show advertisement
                if (!this.data.isPremiumMember) {
                    setTimeout(() => {
                        this.showAdvertisement();
                    }, 2000);
                }
                
                this.saveData();
            }

            loadData() {
                // First try to load from loyalty data (shared with customer.html)
                const saved = localStorage.getItem(this.storageKey);
                if (saved) {
                    const data = JSON.parse(saved);
                    return {
                        currentPoints: data.currentPoints || 0,
                        lifetimePoints: data.lifetimePoints || 0,
                        currentTier: data.currentTier || 'bronze',
                        isPremiumMember: data.isPremiumMember || data.isLoyaltyMember || false,
                        joinDate: data.joinDate || new Date().toISOString(),
                        lastPurchase: data.lastPurchase || null,
                        purchasedItems: data.purchasedItems || []
                    };
                }
                
                // If no loyalty data, check payment preferences (from customer.html)
                const paymentPrefs = localStorage.getItem(this.paymentPrefsKey);
                if (paymentPrefs) {
                    const data = JSON.parse(paymentPrefs);
                    return {
                        currentPoints: data.loyaltyPoints || 0,
                        lifetimePoints: data.loyaltyPoints || 0,
                        currentTier: data.currentTier || 'bronze',
                        isPremiumMember: data.isLoyaltyMember || false,
                        joinDate: new Date().toISOString(),
                        lastPurchase: null,
                        purchasedItems: []
                    };
                }
                
                // Default data
                return {
                    currentPoints: 0,
                    lifetimePoints: 0,
                    currentTier: 'bronze',
                    isPremiumMember: false,
                    joinDate: new Date().toISOString(),
                    lastPurchase: null,
                    purchasedItems: []
                };
            }

            loadFeatures() {
                const saved = localStorage.getItem(this.featuresKey);
                if (saved) {
                    return JSON.parse(saved);
                }
                
                // Initialize with default locked features
                const defaultFeatures = {};
                FEATURES.forEach(feature => {
                    defaultFeatures[feature.id] = {
                        unlocked: false,
                        unlockedDate: null,
                        active: false
                    };
                });
                return defaultFeatures;
            }

            loadTierHistory() {
                const saved = localStorage.getItem(this.tierHistoryKey);
                return saved ? JSON.parse(saved) : [];
            }

            loadSettings() {
                const saved = localStorage.getItem(this.settingsKey);
                return saved ? JSON.parse(saved) : {};
            }

            saveData() {
                // Save to loyalty data (shared with customer.html)
                localStorage.setItem(this.storageKey, JSON.stringify(this.data));
                localStorage.setItem(this.featuresKey, JSON.stringify(this.features));
                localStorage.setItem(this.tierHistoryKey, JSON.stringify(this.tierHistory));
                
                // Also sync with payment preferences for customer.html
                const paymentPrefs = localStorage.getItem(this.paymentPrefsKey);
                let prefs = paymentPrefs ? JSON.parse(paymentPrefs) : {};
                prefs.loyaltyPoints = this.data.currentPoints;
                prefs.isLoyaltyMember = this.data.isPremiumMember;
                localStorage.setItem(this.paymentPrefsKey, JSON.stringify(prefs));
            }

            applyDarkMode() {
                const theme = localStorage.getItem('gittertier_theme');
                if (theme === 'night' || theme === 'dark') {
                    document.body.classList.add('dark-mode');
                } else if (theme === 'light') {
                    document.body.classList.remove('dark-mode');
                } else {
                    // Auto detect from system
                    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                        document.body.classList.add('dark-mode');
                    }
                }
            }

            // Tier System - MATCHES CUSTOMER.HHTML EXACTLY
            getTierInfo(tier) {
                const tiers = {
                    bronze: { 
                        name: 'Bronze', 
                        icon: 'fas fa-medal',
                        color: '#CD7F32',
                        gradient: 'var(--gradient-glass)',
                        multiplier: 1.0,
                        minPoints: 0,
                        nextPoints: 500,
                        discount: 0,
                        benefits: [
                            'Grundlegende Funktionen',
                            'Punktesammeln',
                            'Willkommensgeschenk',
                            '5% Rabatt auf ausgewählte Artikel'
                        ]
                    },
                    silver: { 
                        name: 'Silber', 
                        icon: 'fas fa-medal',
                        color: '#C0C0C0',
                        gradient: 'var(--gradient-silver)',
                        multiplier: 1.2,
                        minPoints: 500,
                        nextPoints: 1500,
                        discount: 5,
                        benefits: [
                            'Alle Bronze Vorteile',
                            '5% Rabatt auf alle Einkäufe',
                            'Exklusive Angebote',
                            'Premium Belegdesign'
                        ]
                    },
                    gold: { 
                        name: 'Gold', 
                        icon: 'fas fa-medal',
                        color: '#FFD700',
                        gradient: 'var(--gradient-gold)',
                        multiplier: 1.5,
                        minPoints: 1500,
                        nextPoints: 3000,
                        discount: 10,
                        benefits: [
                            'Alle Silber Vorteile',
                            '10% Rabatt auf alle Einkäufe',
                            'Kostenlose Produktproben',
                            'Prioritärer Support',
                            'Gold Belegdesign'
                        ]
                    },
                    platinum: { 
                        name: 'Platin', 
                        icon: 'fas fa-gem',
                        color: '#E5E4E2',
                        gradient: 'var(--gradient-platinum)',
                        multiplier: 2.0,
                        minPoints: 3000,
                        nextPoints: 5000,
                        discount: 15,
                        benefits: [
                            'Alle Gold Vorteile',
                            '15% Rabatt auf alle Einkäufe',
                            'Früher Zugang zu neuen Produkten',
                            'Persönlicher Shopping-Assistent',
                            'Platinum Belegdesign'
                        ]
                    },
                    diamond: { 
                        name: 'Diamant', 
                        icon: 'fas fa-gem',
                        color: '#B9F2FF',
                        gradient: 'var(--gradient-diamond)',
                        multiplier: 3.0,
                        minPoints: 5000,
                        nextPoints: null,
                        discount: 20,
                        benefits: [
                            'Alle Platin Vorteile',
                            '20% Rabatt auf alle Einkäufe',
                            'Kostenlose Lieferung',
                            'VIP-Events',
                            'Persönlicher Einkaufsberater'
                        ]
                    }
                };
                return tiers[tier] || tiers.bronze;
            }

            calculateTier(points) {
                if (points >= 5000) return 'diamond';
                if (points >= 3000) return 'platinum';
                if (points >= 1500) return 'gold';
                if (points >= 500) return 'silver';
                return 'bronze';
            }

            addPoints(amount, reason = '') {
                const oldTier = this.data.currentTier;
                this.data.currentPoints += amount;
                this.data.lifetimePoints += amount;
                
                const newTier = this.calculateTier(this.data.currentPoints);
                this.data.currentTier = newTier;
                
                if (newTier !== oldTier) {
                    this.tierHistory.push({
                        date: new Date().toISOString(),
                        from: oldTier,
                        to: newTier,
                        points: this.data.currentPoints
                    });
                    this.showTierUpgrade(oldTier, newTier);
                }
                
                this.saveData();
                this.updateUI();
                this.showNotification(`${amount} Punkte erhalten! ${reason}`, 'success');
                return true;
            }

            spendPoints(amount) {
                if (this.data.currentPoints < amount) {
                    this.showNotification('Nicht genug Punkte!', 'error');
                    return false;
                }
                
                this.data.currentPoints -= amount;
                this.saveData();
                this.updateUI();
                this.showNotification(`${amount} Punkte ausgegeben`, 'info');
                return true;
            }

            // Feature Management - SYNC WITH CUSTOMER.HTML
            unlockFeature(featureId) {
                const feature = FEATURES.find(f => f.id === featureId);
                if (!feature) return false;
                
                if (!this.features[featureId]) {
                    this.features[featureId] = {
                        unlocked: true,
                        unlockedDate: new Date().toISOString(),
                        active: true
                    };
                    
                    // Apply feature effect (sync with customer.html)
                    this.applyFeature(featureId);
                    
                    this.saveData();
                    this.showNotification(`🎉 ${feature.title} freigeschaltet!`, 'success');
                    this.createConfetti();
                    return true;
                }
                
                // Toggle if already exists
                this.features[featureId].active = !this.features[featureId].active;
                this.saveData();
                
                if (this.features[featureId].active) {
                    this.applyFeature(featureId);
                    this.showNotification(`${feature.title} aktiviert`, 'success');
                } else {
                    this.removeFeature(featureId);
                    this.showNotification(`${feature.title} deaktiviert`, 'info');
                }
                
                return true;
            }

            applyFeature(featureId) {
                const feature = FEATURES.find(f => f.id === featureId);
                if (!feature) return;

                // Apply feature to localStorage for other pages (same as customer.html)
                switch(featureId) {
                    case 'scanner_animation':
                        localStorage.setItem('gittertier_scanner_animation', 'true');
                        break;
                    case 'point_multiplier':
                        localStorage.setItem('gittertier_point_multiplier', '2.0');
                        break;
                    case 'fast_checkout':
                        localStorage.setItem('gittertier_fast_checkout', 'true');
                        break;
                    case 'transaction_effects':
                        localStorage.setItem('gittertier_transaction_effects', 'true');
                        break;
                    case 'profile_badges':
                        localStorage.setItem('gittertier_profile_badges', 'true');
                        break;
                    case 'scanner_effects':
                        localStorage.setItem('gittertier_scanner_effects', 'true');
                        break;
                    case 'priority_processing':
                        localStorage.setItem('gittertier_priority_processing', 'true');
                        break;
                    case 'advanced_analytics':
                        localStorage.setItem('gittertier_advanced_analytics', 'true');
                        break;
                    case 'dark_mode_plus':
                        localStorage.setItem('gittertier_dark_mode_plus', 'true');
                        break;
                    case 'export_pdf':
                        localStorage.setItem('gittertier_export_pdf', 'true');
                        break;
                }
            }

            removeFeature(featureId) {
                // Remove feature from localStorage (same as customer.html)
                switch(featureId) {
                    case 'scanner_animation':
                        localStorage.removeItem('gittertier_scanner_animation');
                        break;
                    case 'point_multiplier':
                        localStorage.removeItem('gittertier_point_multiplier');
                        break;
                    case 'fast_checkout':
                        localStorage.removeItem('gittertier_fast_checkout');
                        break;
                    case 'transaction_effects':
                        localStorage.removeItem('gittertier_transaction_effects');
                        break;
                    case 'profile_badges':
                        localStorage.removeItem('gittertier_profile_badges');
                        break;
                    case 'scanner_effects':
                        localStorage.removeItem('gittertier_scanner_effects');
                        break;
                    case 'priority_processing':
                        localStorage.removeItem('gittertier_priority_processing');
                        break;
                    case 'advanced_analytics':
                        localStorage.removeItem('gittertier_advanced_analytics');
                        break;
                    case 'dark_mode_plus':
                        localStorage.removeItem('gittertier_dark_mode_plus');
                        break;
                    case 'export_pdf':
                        localStorage.removeItem('gittertier_export_pdf');
                        break;
                }
            }

            isFeatureUnlocked(featureId) {
                return this.features[featureId]?.unlocked || false;
            }

            isFeatureActive(featureId) {
                return this.features[featureId]?.active || false;
            }

            // Membership - SYNC WITH CUSTOMER.HTML
            joinPremiumClub() {
                if (!this.data.isPremiumMember) {
                    this.data.isPremiumMember = true;
                    this.data.joinDate = new Date().toISOString();
                    
                    // Add welcome bonus (same as customer.html)
                    this.addPoints(100, 'Willkommensbonus');
                    
                    this.saveData();
                    this.showNotification('Herzlich willkommen im Premium Club! Sie erhalten 100 Willkommenspunkte!', 'success');
                    this.createConfetti();
                    this.hideAdvertisement();
                    return true;
                }
                return false;
            }

            // UI Updates
            updateUI() {
                // Update points display
                document.getElementById('current-balance').textContent = this.data.currentPoints;
                document.getElementById('lifetime-points').textContent = this.data.lifetimePoints;
                document.getElementById('main-points').textContent = this.data.currentPoints;
                
                // Update tier display
                const tierInfo = this.getTierInfo(this.data.currentTier);
                document.getElementById('current-tier').textContent = tierInfo.name;
                document.getElementById('tier-level').textContent = tierInfo.name;
                
                // Update progress bar (matches customer.html tier system)
                const nextTierPoints = tierInfo.nextPoints;
                if (nextTierPoints) {
                    const progress = ((this.data.currentPoints - tierInfo.minPoints) / (nextTierPoints - tierInfo.minPoints)) * 100;
                    document.getElementById('progress-fill').style.width = `${Math.min(progress, 100)}%`;
                    document.getElementById('progress-text').textContent = 
                        `${this.data.currentPoints - tierInfo.minPoints}/${nextTierPoints - tierInfo.minPoints}`;
                } else {
                    document.getElementById('progress-fill').style.width = '100%';
                    document.getElementById('progress-text').textContent = 'Maximales Level erreicht!';
                }
                
                // Update unlocked features count
                const unlockedCount = Object.values(this.features).filter(f => f.unlocked && f.active).length;
                document.getElementById('unlocked-features').textContent = unlockedCount;
                
                // Update membership status styling
                const statusEl = document.getElementById('membership-status');
                if (this.data.isPremiumMember) {
                    statusEl.classList.add('premium');
                } else {
                    statusEl.classList.remove('premium');
                }
                
                // Render tiers
                this.renderTiers();
                
                // Render features
                this.renderFeatures();
                
                // Render active benefits
                this.renderActiveBenefits();
            }

            renderTiers() {
                const container = document.getElementById('tiers-grid');
                if (!container) return;
                
                const tiers = ['bronze', 'silver', 'gold', 'platinum', 'diamond'];
                
                container.innerHTML = tiers.map(tier => {
                    const tierInfo = this.getTierInfo(tier);
                    const isCurrent = this.data.currentTier === tier;
                    const isUnlocked = this.data.currentPoints >= tierInfo.minPoints;
                    
                    return `
                        <div class="tier-card ${tier} ${isCurrent ? 'active' : ''} ${isUnlocked ? 'unlocked' : ''}">
                            <div class="tier-icon">
                                <i class="${tierInfo.icon}"></i>
                            </div>
                            <h3 class="tier-title">${tierInfo.name}</h3>
                            <div class="tier-points">Ab ${tierInfo.minPoints} Punkten</div>
                            <ul class="tier-benefits">
                                ${tierInfo.benefits.map(benefit => `
                                    <li><i class="fas fa-check"></i> ${benefit}</li>
                                `).join('')}
                            </ul>
                            <button class="tier-action">
                                ${isCurrent ? 'Aktueller Status' : (isUnlocked ? 'Erreicht' : 'Erreichen')}
                            </button>
                        </div>
                    `;
                }).join('');
            }

            renderFeatures() {
                const container = document.getElementById('features-grid');
                if (!container) return;
                
                // Filter features based on membership
                const availableFeatures = FEATURES.filter(feature => {
                    return this.data.isPremiumMember || feature.cost <= 0;
                });
                
                if (availableFeatures.length === 0) {
                    container.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-lock"></i>
                            <p>Werden Sie Premium-Mitglied, um Features freizuschalten!</p>
                        </div>
                    `;
                    return;
                }
                
                container.innerHTML = availableFeatures.map((feature, index) => {
                    const isUnlocked = this.isFeatureUnlocked(feature.id);
                    const isActive = this.isFeatureActive(feature.id);
                    const canAfford = this.data.currentPoints >= feature.cost;
                    
                    return `
                        <div class="feature-card ${isUnlocked ? 'unlocked' : ''} ${feature.premium ? 'premium' : ''}">
                            <div class="feature-header">
                                <div class="feature-icon">
                                    <i class="${feature.icon}"></i>
                                </div>
                                <div class="feature-cost">${feature.cost} Punkte</div>
                            </div>
                            <h3 class="feature-title">${feature.title}</h3>
                            <p class="feature-description">${feature.description}</p>
                            <div class="feature-status ${isUnlocked ? 'status-unlocked' : 'status-locked'}">
                                ${isUnlocked ? (isActive ? '✅ Aktiviert' : '⏸️ Deaktiviert') : '🔒 Gesperrt'}
                            </div>
                            <button class="unlock-btn ${isUnlocked ? 'unlocked' : ''}" 
                                    data-feature="${feature.id}"
                                    ${!isUnlocked && !canAfford ? 'disabled' : ''}>
                                ${isUnlocked ? 
                                    (isActive ? 
                                        '<i class="fas fa-toggle-on"></i> Deaktivieren' : 
                                        '<i class="fas fa-toggle-off"></i> Aktivieren') : 
                                    (canAfford ? 
                                        `<i class="fas fa-lock-open"></i> Für ${feature.cost} Punkte freischalten` : 
                                        '🔒 Nicht genug Punkte')}
                            </button>
                        </div>
                    `;
                }).join('');
            }

            renderActiveBenefits() {
                const container = document.getElementById('active-benefits');
                if (!container) return;
                
                const activeFeatures = FEATURES.filter(f => this.isFeatureActive(f.id));
                
                if (activeFeatures.length === 0) {
                    container.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-gift"></i>
                            <p>Keine aktiven Vorteile</p>
                            <p>Schalten Sie Features frei, um hier Ihre Vorteile zu sehen.</p>
                        </div>
                    `;
                    return;
                }
                
                container.innerHTML = activeFeatures.map((feature, index) => {
                    return `
                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="${feature.icon}"></i>
                            </div>
                            <div class="benefit-content">
                                <h4>${feature.title}</h4>
                                <p>${feature.benefit}</p>
                            </div>
                        </div>
                    `;
                }).join('');
            }

            // Tutorial System
            checkTutorial() {
                const tutorialCompleted = localStorage.getItem(this.tutorialKey);
                if (!tutorialCompleted) {
                    this.showTutorial();
                }
            }

            showTutorial() {
                const overlay = document.getElementById('tutorial-overlay');
                if (overlay) {
                    overlay.classList.add('active');
                    this.currentTutorialSlide = 1;
                    this.updateTutorialSlide();
                }
            }

            hideTutorial() {
                const overlay = document.getElementById('tutorial-overlay');
                if (overlay) {
                    overlay.classList.remove('active');
                    localStorage.setItem(this.tutorialKey, 'completed');
                }
            }

            updateTutorialSlide() {
                // Hide all slides
                document.querySelectorAll('.tutorial-slide').forEach(slide => {
                    slide.classList.remove('active');
                });
                
                // Show current slide
                const currentSlide = document.getElementById(`tutorial-slide-${this.currentTutorialSlide}`);
                if (currentSlide) {
                    currentSlide.classList.add('active');
                }
                
                // Update indicators
                document.querySelectorAll('.tutorial-indicator').forEach((indicator, index) => {
                    if (index + 1 === this.currentTutorialSlide) {
                        indicator.classList.add('active');
                    } else {
                        indicator.classList.remove('active');
                    }
                });
                
                // Update navigation buttons
                const prevBtn = document.getElementById('tutorial-prev');
                const nextBtn = document.getElementById('tutorial-next');
                const finishBtn = document.getElementById('tutorial-finish');
                
                if (prevBtn) {
                    prevBtn.style.display = this.currentTutorialSlide === 1 ? 'none' : 'flex';
                }
                
                if (nextBtn && finishBtn) {
                    if (this.currentTutorialSlide === this.totalTutorialSlides) {
                        nextBtn.style.display = 'none';
                        finishBtn.style.display = 'flex';
                    } else {
                        nextBtn.style.display = 'flex';
                        finishBtn.style.display = 'none';
                    }
                }
            }

            nextTutorialSlide() {
                if (this.currentTutorialSlide < this.totalTutorialSlides) {
                    this.currentTutorialSlide++;
                    this.updateTutorialSlide();
                }
            }

            prevTutorialSlide() {
                if (this.currentTutorialSlide > 1) {
                    this.currentTutorialSlide--;
                    this.updateTutorialSlide();
                }
            }

            // Advertisement System
            showAdvertisement() {
                if (!this.data.isPremiumMember) {
                    const modal = document.getElementById('advertisement-modal');
                    if (modal) {
                        modal.classList.add('active');
                        document.body.style.overflow = 'hidden';
                    }
                }
            }

            hideAdvertisement() {
                const modal = document.getElementById('advertisement-modal');
                if (modal) {
                    modal.classList.remove('active');
                    document.body.style.overflow = '';
                }
            }

            // Effects and Notifications
            createConfetti() {
                const container = document.getElementById('confetti-container');
                if (!container) return;
                
                container.style.display = 'block';
                container.innerHTML = '';
                
                const colors = ['#FFD700', '#FF9F0A', '#FF375F', '#5856D6', '#34C759'];
                
                for (let i = 0; i < 150; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = Math.random() * 10 + 5 + 'px';
                    confetti.style.height = Math.random() * 10 + 5 + 'px';
                    confetti.style.animationDuration = Math.random() * 2 + 1 + 's';
                    confetti.style.animationDelay = Math.random() * 1 + 's';
                    container.appendChild(confetti);
                }
                
                setTimeout(() => {
                    container.style.display = 'none';
                    container.innerHTML = '';
                }, 3000);
            }

            showNotification(message, type = 'success') {
                const notification = document.getElementById('notification');
                if (!notification) return;
                
                notification.textContent = message;
                notification.style.background = type === 'success' ? 'var(--color-success)' : 
                                              type === 'error' ? 'var(--color-error)' : 
                                              type === 'warning' ? 'var(--color-warning)' : 
                                              'var(--color-primary)';
                
                notification.style.display = 'flex';
                notification.style.opacity = '1';
                
                setTimeout(() => {
                    notification.style.opacity = '0';
                    setTimeout(() => {
                        notification.style.display = 'none';
                    }, 300);
                }, 3000);
            }

            showTierUpgrade(oldTier, newTier) {
                const oldInfo = this.getTierInfo(oldTier);
                const newInfo = this.getTierInfo(newTier);
                
                const message = `🎉 Herzlichen Glückwunsch! Sie wurden von ${oldInfo.name} auf ${newInfo.name} befördert!`;
                this.showNotification(message, 'success');
                this.createConfetti();
            }

            // Feature click handler
            handleFeatureClick(featureId) {
                const feature = FEATURES.find(f => f.id === featureId);
                if (!feature) return;
                
                const isUnlocked = this.isFeatureUnlocked(featureId);
                const isActive = this.isFeatureActive(featureId);
                
                if (!isUnlocked) {
                    // Try to unlock
                    if (this.data.currentPoints >= feature.cost) {
                        if (confirm(`Möchten Sie "${feature.title}" für ${feature.cost} Punkte freischalten?`)) {
                            if (this.spendPoints(feature.cost)) {
                                this.unlockFeature(featureId);
                            }
                        }
                    } else {
                        this.showNotification(`❌ Nicht genug Punkte. Sie benötigen ${feature.cost - this.data.currentPoints} mehr Punkte.`, 'error');
                    }
                } else {
                    // Toggle activation
                    this.unlockFeature(featureId);
                }
                
                this.updateUI();
            }
            
            // Sync points from customer.html purchases
            syncFromCustomer() {
                // Check for any new points added in customer.html
                const loyaltyData = JSON.parse(localStorage.getItem('gittertier_loyalty_data') || '{}');
                const paymentPrefs = JSON.parse(localStorage.getItem('gittertier_payment_preferences') || '{}');
                
                if (loyaltyData.currentPoints !== undefined && loyaltyData.currentPoints > this.data.currentPoints) {
                    const diff = loyaltyData.currentPoints - this.data.currentPoints;
                    this.data.currentPoints = loyaltyData.currentPoints;
                    this.data.lifetimePoints = loyaltyData.lifetimePoints || this.data.lifetimePoints + diff;
                    this.data.currentTier = this.calculateTier(this.data.currentPoints);
                    this.data.isPremiumMember = loyaltyData.isPremiumMember || loyaltyData.isLoyaltyMember || this.data.isPremiumMember;
                    
                    this.saveData();
                    this.updateUI();
                    return true;
                }
                
                if (paymentPrefs.loyaltyPoints !== undefined && paymentPrefs.loyaltyPoints > this.data.currentPoints) {
                    const diff = paymentPrefs.loyaltyPoints - this.data.currentPoints;
                    this.data.currentPoints = paymentPrefs.loyaltyPoints;
                    this.data.lifetimePoints += diff;
                    this.data.currentTier = this.calculateTier(this.data.currentPoints);
                    this.data.isPremiumMember = paymentPrefs.isLoyaltyMember || this.data.isPremiumMember;
                    
                    this.saveData();
                    this.updateUI();
                    return true;
                }
                
                return false;
            }
        }

        // ==================== FEATURES DEFINITION ====================
        const FEATURES = [
            {
                id: 'scanner_animation',
                title: 'Scanner Animation',
                icon: 'fas fa-sparkles',
                description: 'Spezielle Puls-Animation für den Barcode-Scanner',
                benefit: 'Verbesserte Scanner-Visuals mit Animationen',
                cost: 200,
                premium: true,
                category: 'scanner'
            },
            {
                id: 'priority_processing',
                title: 'Prioritäts-Verarbeitung',
                icon: 'fas fa-bolt',
                description: 'Schnellere Bestätigung von Zahlungen',
                benefit: '20% schnellere Zahlungsbestätigungen',
                cost: 300,
                premium: true,
                category: 'payment'
            },
            {
                id: 'point_multiplier',
                title: 'Punkt-Multiplikator',
                icon: 'fas fa-rocket',
                description: 'Erhalten Sie 2x Punkte auf alle Einkäufe',
                benefit: 'Doppelte Punkte bei jedem Einkauf',
                cost: 500,
                premium: true,
                category: 'points'
            },
            {
                id: 'transaction_effects',
                title: 'Transaktions-Effekte',
                icon: 'fas fa-fire',
                description: 'Spezielle Animationen bei erfolgreichen Zahlungen',
                benefit: 'Visuelle Bestätigungseffekte nach Zahlungen',
                cost: 120,
                premium: true,
                category: 'payment'
            },
            {
                id: 'profile_badges',
                title: 'Profil-Abzeichen',
                icon: 'fas fa-shield-alt',
                description: 'Exklusive Abzeichen in Ihrem Profil',
                benefit: 'Sichtbarer Premium-Status auf allen Seiten',
                cost: 80,
                premium: true,
                category: 'profile'
            },
            {
                id: 'scanner_effects',
                title: 'Scanner-Effekte',
                icon: 'fas fa-magic',
                description: 'Verbesserte visuelle Effekte beim Scannen',
                benefit: 'Erweiterte Scanner-Visuals mit Glow-Effekt',
                cost: 220,
                premium: true,
                category: 'scanner'
            }
        ];

        // ==================== INITIALIZATION ====================
        let premiumClubManager;

        document.addEventListener('DOMContentLoaded', function() {
            // Initialize manager
            premiumClubManager = new PremiumClubManager();
            
            // Sync data from customer.html first
            premiumClubManager.syncFromCustomer();
            
            // Update UI
            premiumClubManager.updateUI();
            
            // Setup event listeners
            setupEventListeners();
            
            // Update time display
            updateTime();
            setInterval(updateTime, 1000);
            
            // Auto dark mode detection
            if (window.matchMedia) {
                const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
                darkModeMediaQuery.addListener((e) => {
                    const theme = localStorage.getItem('gittertier_theme');
                    if (!theme) {
                        if (e.matches) {
                            document.body.classList.add('dark-mode');
                        } else {
                            document.body.classList.remove('dark-mode');
                        }
                    }
                });
            }
            
            // Periodically sync with customer.html data
            setInterval(() => {
                premiumClubManager.syncFromCustomer();
            }, 5000);
        });

        function setupEventListeners() {
            // Hamburger menu
            const hamburger = document.getElementById('hamburger');
            if (hamburger) {
                hamburger.addEventListener('click', () => {
                    const sidebar = document.getElementById('sidebar');
                    const sidebarOverlay = document.getElementById('sidebarOverlay');
                    sidebar.classList.toggle('active');
                    sidebarOverlay.classList.toggle('active');
                });
            }
            
            // Close sidebar overlay
            const sidebarOverlay = document.getElementById('sidebarOverlay');
            if (sidebarOverlay) {
                sidebarOverlay.addEventListener('click', () => {
                    const sidebar = document.getElementById('sidebar');
                    sidebar.classList.remove('active');
                    sidebarOverlay.classList.remove('active');
                });
            }
            
            // Close sidebar on link click (mobile)
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', () => {
                    if (window.innerWidth <= 768) {
                        document.getElementById('sidebar').classList.remove('active');
                        document.getElementById('sidebarOverlay').classList.remove('active');
                    }
                });
            });
            
            // Back button
            const logoutBtn = document.getElementById('logoutBtn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', () => {
                    window.history.back();
                });
            }
            
            // Feature unlock buttons
            document.addEventListener('click', function(e) {
                if (e.target.closest('.unlock-btn')) {
                    const featureId = e.target.closest('.unlock-btn').dataset.feature;
                    if (featureId) {
                        premiumClubManager.handleFeatureClick(featureId);
                    }
                }
            });
            
            // Join premium button
            const joinPremiumBtn = document.getElementById('join-premium-button');
            if (joinPremiumBtn) {
                joinPremiumBtn.addEventListener('click', function() {
                    premiumClubManager.joinPremiumClub();
                });
            }
            
            // Close advertisement modal
            const closeAdModal = document.getElementById('close-ad-modal');
            if (closeAdModal) {
                closeAdModal.addEventListener('click', function() {
                    premiumClubManager.hideAdvertisement();
                });
            }
            
            // Close modal on overlay click
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal-overlay')) {
                    e.target.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
            
            // Escape key to close modals
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    document.querySelectorAll('.modal-overlay.active').forEach(modal => {
                        modal.classList.remove('active');
                        document.body.style.overflow = '';
                    });
                    
                    const tutorialOverlay = document.getElementById('tutorial-overlay');
                    if (tutorialOverlay && tutorialOverlay.classList.contains('active')) {
                        premiumClubManager.hideTutorial();
                    }
                }
            });
            
            // Tutorial navigation
            const tutorialNext = document.getElementById('tutorial-next');
            const tutorialPrev = document.getElementById('tutorial-prev');
            const tutorialFinish = document.getElementById('tutorial-finish');
            const tutorialIndicators = document.querySelectorAll('.tutorial-indicator');
            
            if (tutorialNext) {
                tutorialNext.addEventListener('click', function() {
                    premiumClubManager.nextTutorialSlide();
                });
            }
            
            if (tutorialPrev) {
                tutorialPrev.addEventListener('click', function() {
                    premiumClubManager.prevTutorialSlide();
                });
            }
            
            if (tutorialFinish) {
                tutorialFinish.addEventListener('click', function() {
                    premiumClubManager.hideTutorial();
                });
            }
            
            tutorialIndicators.forEach(indicator => {
                indicator.addEventListener('click', function() {
                    const slide = parseInt(this.dataset.slide);
                    premiumClubManager.currentTutorialSlide = slide;
                    premiumClubManager.updateTutorialSlide();
                });
            });
            
            // Add some demo interaction
            const demoAddPoints = document.createElement('button');
            demoAddPoints.innerHTML = '<i class="fas fa-plus"></i> 100 Demo-Punkte';
            demoAddPoints.style.position = 'fixed';
            demoAddPoints.style.bottom = '20px';
            demoAddPoints.style.right = '20px';
            demoAddPoints.style.zIndex = '1000';
            demoAddPoints.style.padding = '10px 15px';
            demoAddPoints.style.background = 'var(--gradient-primary)';
            demoAddPoints.style.color = 'white';
            demoAddPoints.style.border = 'none';
            demoAddPoints.style.borderRadius = '20px';
            demoAddPoints.style.cursor = 'pointer';
            demoAddPoints.style.fontSize = '12px';
            demoAddPoints.style.fontWeight = '600';
            demoAddPoints.style.boxShadow = 'var(--glass-shadow)';
            demoAddPoints.style.display = 'none'; // Hidden by default
            
            demoAddPoints.addEventListener('click', function() {
                premiumClubManager.addPoints(100, 'Demo-Punkte hinzugefügt');
            });
            
            document.body.appendChild(demoAddPoints);
            
            // Show demo button in development mode
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                demoAddPoints.style.display = 'block';
            }
            
            // Swipe gestures for mobile
            let touchStartX = 0;
            let touchEndX = 0;
            
            document.addEventListener('touchstart', function(e) {
                touchStartX = e.changedTouches[0].screenX;
            }, { passive: true });
            
            document.addEventListener('touchend', function(e) {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            }, { passive: true });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const swipeLength = touchEndX - touchStartX;
                
                if (Math.abs(swipeLength) > swipeThreshold) {
                    if (swipeLength > 0) {
                        // Swipe right - open sidebar from left edge
                        if (touchStartX < 50 && window.innerWidth <= 768) {
                            document.getElementById('sidebar').classList.add('active');
                            document.getElementById('sidebarOverlay').classList.add('active');
                        }
                    } else {
                        // Swipe left - close sidebar
                        if (window.innerWidth <= 768) {
                            document.getElementById('sidebar').classList.remove('active');
                            document.getElementById('sidebarOverlay').classList.remove('active');
                        }
                    }
                }
            }
        }

        function updateTime() {
            try {
                const now = new Date();
                const timeDisplay = document.getElementById('timeDisplay');
                
                if (timeDisplay) {
                    const timeString = now.toLocaleTimeString('de-DE', {
                        hour: '2-digit',
                        minute: '2-digit',
                        second: window.innerWidth <= 768 ? undefined : '2-digit'
                    });
                    const dateString = now.toLocaleDateString('de-DE', {
                        weekday: window.innerWidth <= 768 ? 'short' : 'long',
                        day: '2-digit',
                        month: window.innerWidth <= 768 ? 'short' : 'long',
                        year: window.innerWidth <= 768 ? undefined : 'numeric'
                    });
                    timeDisplay.textContent = window.innerWidth <= 768 ? 
                        `${dateString}, ${timeString}` : 
                        `${dateString}, ${timeString}`;
                }
            } catch (error) {
                console.error('Error updating time:', error);
            }
        }

        // Expose to global scope for integration with other pages
        window.premiumClubManager = premiumClubManager;
        window.FEATURES = FEATURES;
        
        // Helper function to sync points from customer.html
        window.syncLoyaltyPoints = function(pointsToAdd) {
            if (premiumClubManager) {
                premiumClubManager.addPoints(pointsToAdd, 'Einkauf abgeschlossen');
                return true;
            }
            return false;
        };
    </script>
</body>
</html>